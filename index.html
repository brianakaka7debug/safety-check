<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Big Island Safety Check Finder</title>
  <!-- Preload hero image for faster first paint -->
  <link rel="preload" as="image" href="lava-texture.jpg">
  <!-- Critical CSS (just the first viewport) is inlined via <style>. 
       The rest sits in style.css so browsers can cache it aggressively. -->
  <style>
    :root{
      --brand-teal:#28a391;
      --font-light:#ffffff;
      --font-dark:#1e1e1e;
    }
    *{box-sizing:border-box;margin:0;padding:0;}
    body{font:16px/1.5 system-ui,Segoe UI,Helvetica,Arial,sans-serif;color:var(--font-dark);}
    .hero{
      background:
        linear-gradient(rgba(0,0,0,.55),rgba(0,0,0,.65)),
        url('lava-texture.jpg') center 45%/cover no-repeat;
      color:var(--font-light);
      text-align:center;
      padding:15vh 1.5rem 10vh;
    }
    .hero h1{font-size:clamp(2rem,5vw,3rem);margin-bottom:.75em;line-height:1.1;}
    .hero p{max-width:min(800px, 85%);margin:0 auto 2.2em;font-size:clamp(1rem,2.5vw,1.2rem);line-height:1.5;}
    .cta{
      background:var(--brand-teal);
      color:#fff;border:0;border-radius:8px;
      padding:1rem 2.6rem;font-size:1.125rem;
      cursor:pointer;transition:filter .2s;
    }
    .cta:hover{filter:brightness(1.1);}
    .location-options{
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.5rem;
      margin-bottom: 3rem;
    }
    .or-divider{
      color: rgba(255,255,255,0.7);
      font-size: 0.9rem;
      position: relative;
      padding: 0 1rem;
    }
    .or-divider::before,
    .or-divider::after{
      content: '';
      position: absolute;
      top: 50%;
      width: 60px;
      height: 1px;
      background: rgba(255,255,255,0.3);
    }
    .or-divider::before{left: -70px;}
    .or-divider::after{right: -70px;}
    .address-input-section{
      display: flex;
      gap: 0.75rem;
      width: 100%;
      max-width: 500px;
      align-items: center;
    }
    .address-input{
      flex: 1;
      padding: 0.875rem 1rem;
      border: 2px solid rgba(255,255,255,0.2);
      border-radius: 8px;
      background: rgba(255,255,255,0.1);
      color: var(--font-light);
      font-size: 1rem;
      backdrop-filter: blur(10px);
      transition: all 0.2s ease;
    }
    .address-input::placeholder{
      color: rgba(255,255,255,0.6);
    }
    .address-input:focus{
      outline: none;
      border-color: var(--brand-teal);
      background: rgba(255,255,255,0.15);
    }
    .cta-secondary{
      background: rgba(40, 163, 145, 0.8);
      border: 1px solid var(--brand-teal);
      padding: 0.875rem 1.5rem;
      font-size: 1rem;
    }
    .cta-secondary:hover{
      background: var(--brand-teal);
    }
    .about-section{
      max-width: 600px;
      margin: 0 auto;
      padding: 2rem 1.5rem;
      background: rgba(255,255,255,0.05);
      border-radius: 12px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.1);
    }
    .about-content h3{
      color: var(--font-light);
      font-size: 1.25rem;
      margin-bottom: 1rem;
      text-align: center;
    }
    .about-content p{
      color: rgba(255,255,255,0.9);
      font-size: 1rem;
      line-height: 1.5;
      margin-bottom: 1.5rem;
      text-align: center;
    }
    .support-links{
      display: flex;
      gap: 2rem;
      justify-content: center;
      flex-wrap: wrap;
    }
    .support-item{
      text-align: center;
    }
    .support-item strong{
      display: block;
      color: var(--font-light);
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }
    .donation-link, .contact-link{
      color: var(--brand-teal);
      text-decoration: none;
      font-weight: 500;
      padding: 8px 16px;
      border-radius: 6px;
      background: rgba(40, 163, 145, 0.2);
      display: inline-block;
      transition: all 0.2s ease;
      border: 1px solid rgba(40, 163, 145, 0.3);
    }
    .donation-link:hover, .contact-link:hover{
      background: rgba(40, 163, 145, 0.3);
      transform: translateY(-1px);
    }
  </style>
  <!--  Main stylesheet (everything below the fold)  -->
  <link rel="stylesheet" href="style.css">
  <!-- Leaflet CSS for maps -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
  <header class="hero">
    <h1>Find Safety Check Stations<br>on Hawai'i Island</h1>
    <p>A free community resource to help locals and visitors easily find certified safety inspection stations across the Big Island. Get your annual vehicle safety check done quickly and conveniently.</p>
    
    <!-- Location Input Options -->
    <div class="location-options">
      <button class="cta" id="locateBtn" type="button">üìç Use My Location</button>
      <div class="or-divider">
        <span>or</span>
      </div>
      <div class="address-input-section">
        <input type="text" id="addressInput" placeholder="Enter your address or ZIP code" class="address-input">
        <button class="cta cta-secondary" id="searchBtn" type="button">
          <span class="desktop-text">üîç Find Stations</span>
          <span class="mobile-text">üîç</span>
        </button>
      </div>
    </div>
    
    <div id="status" hidden>Finding nearby safety check stations‚Ä¶</div>
    
    <!-- About Section -->
    <div class="about-section">
      <div class="about-content">
        <h3>Why We Built This</h3>
        <p>Finding a safety check station shouldn't be a hassle. We created this tool to help our Big Island community‚Äîlocals and visitors alike‚Äîquickly locate certified stations without the frustration of outdated listings or unclear locations.</p>
        
        <div class="support-links">
          <div class="support-item">
            <strong>Support This Project</strong>
            <a href="https://paypal.me/yourusername" target="_blank" class="donation-link">‚òï Buy us a coffee</a>
          </div>
          <div class="support-item">
            <strong>Get in Touch</strong>
            <a href="mailto:akakabrian19@gmail.com" class="contact-link">akakabrian19@gmail.com</a>
          </div>
        </div>
      </div>
    </div>
  </header>
  <section id="results" hidden>
    <div class="results-header">
      <h3>Nearest Safety Check Stations</h3>
      <a href="#" id="changeLocationBtn" class="change-location-link">üìç Change Location</a>
    </div>
    <div id="map"></div>
    <div id="stationList"></div>
  </section>
  <!-- Leaflet JavaScript for maps -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <!-- Your logic, loaded last with defer so it never blocks rendering -->
  <script src="app.js" defer></script>
</body>
</html>